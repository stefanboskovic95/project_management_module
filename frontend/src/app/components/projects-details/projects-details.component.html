<div class="table-container">
  <mat-menu #menu="matMenu" xPosition="before">
    <div class="small-padding" (click)="filterMyProjects($event)">
      <!-- <mat-checkbox name="myProjects" [(ngModel)]="myProjects">My projects</mat-checkbox> -->
      <input type="checkbox" [(ngModel)]="myProjects"/>My projects
    </div>
    <div>
      <mat-radio-group [(ngModel)]="projectSize" (click)="filterSize($event)">
        <mat-radio-button class="small-margin" value="small">Small projects</mat-radio-button>
        <mat-radio-button class="small-margin" value="medium">Medium projects</mat-radio-button>
        <mat-radio-button class="small-margin" value="large">Large projects</mat-radio-button>
      </mat-radio-group>
    </div>
  </mat-menu>
  <table *ngIf="projects">
    <tr>
      <th>
        <div id="p-w-button">
          <p>Id</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortById()">
            <mat-icon *ngIf="sortIdAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortIdAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Project name</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByName()">
            <mat-icon *ngIf="sortNameAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortNameAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Budget</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByBudget()">
            <mat-icon *ngIf="sortBudgetAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortBudgetAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Budget used</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByBudgetUsed()">
            <mat-icon *ngIf="sortBudgetUsedAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortBudgetUsedAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Confidential</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByConfidentiality()">
            <mat-icon *ngIf="sortConfidentialAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortConfidentialAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Project status</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByProjectStatus()">
            <mat-icon *ngIf="sortStatusAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortStatusAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Business category</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByCategory()">
            <mat-icon *ngIf="sortCategoryAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortCategoryAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Project lead</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByProjectLead()">
            <mat-icon *ngIf="sortProjectLeadAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortProjectLeadAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Country</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByCountry()">
            <mat-icon *ngIf="sortCountryAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortCountryAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <p>Region</p>
          <button mat-icon-button class="tittle-add-btn-btn" (click)="sortByRegion()">
            <mat-icon *ngIf="sortRegionAscending">arrow_drop_up</mat-icon>
            <mat-icon *ngIf="!sortRegionAscending">arrow_drop_down</mat-icon>
          </button>
        </div>
      </th>
      <th>
        <div id="p-w-button">
          <button mat-icon-button class="tittle-add-btn-btn" mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>filter_list</mat-icon>
          </button>
        </div>
      </th>
    </tr>
    <tr *ngFor="let project of projects">
      <td>{{project.id}}</td>
      <td>{{project.name}}</td>
      <td *ngIf="currencies">{{project.budget | currency:getCurrency(project.currencyId)}}</td>
      <td>{{0 | currency:getCurrency(project.currencyId)}}</td>
      <td>{{project.isConfidential ? 'YES' : 'NO'}}</td>
      <td>{{getProjectStatus(project.projectStatusId)}}</td>
      <td>{{getBusinessCategory(project.businessCategoryId)}}</td>
      <td>{{getProjectLead(project.userId)}}</td>
      <td>{{project.country}}</td>
      <td>{{getRegion(project.regionId)}}</td>
      <td>
        <button mat-icon-button class="details-btn" (click)="goToProject(project.id)">
          <mat-icon class="details-mat-icon">fullscreen</mat-icon>
        </button>
      </td>
    </tr>
  </table>
</div>